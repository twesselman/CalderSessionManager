{"ts":1362258913960,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var express = require ('express');\r\nvar app = express();\r\n\r\napp.use(express.cookieParser());\r\napp.use(express.cookieSession({ secret: 'Calder Demo Secret', cookie: { maxAge: 60 * 60 * 1000 }}));\r\n \r\nvar ericomurl='http://10.81.108.10:8080/AccessNow/start.html';\r\n\r\napp.configure(function() {\r\n    app.use(express.bodyParser());\r\n    app.use(express.cookieParser());\r\n    app.use(express.session({secret: 'my super secret'}));\r\n    app.use(express.static(__dirname + '/website'));    \r\n    app.use(express.static(__dirname + '/kendo'));\r\n    app.use(express.static(__dirname + '/website/script'));\r\n    app.use(express.static(__dirname + '/website/content'));\r\n    });\r\n\r\n\r\napp.post('/set', function (req, res) {\r\n    console.log('set called');\r\n    req.session.username = req.body.name;\r\n    res.cookie('mycookie', req.body.name);\r\n    res.send('session.username set to ' + req.body.name);\r\n});\r\n\r\napp.get('/read', function(req, res) {\r\n   if(req.session.username)\r\n   {\r\n       var result = 'session.username: ' + req.session.username + '<br>';\r\n       result += 'cookie: ' + req.cookies.mycookie +'<br>';\r\n       \r\n       result += req.cookies;\r\n       res.send(result);\r\n   } \r\n   else\r\n   {\r\n       res.send('no data');\r\n   }  \r\n});\r\n\r\nvar myApps = {\"apps\": [\r\n        {\"name\": \"Outlook\", \"imagefile\": \"outlook.png\", \"exe\": \"/launch/outlook\"},        \r\n        {\"name\": \"Word\", \"imagefile\": \"word.png\", \"exe\": \"/launch/word\"},        \r\n        {\"name\": \"Excel\", \"imagefile\": \"excel.png\", \"exe\": \"/launch/excel\"},        \r\n        {\"name\": \"Powerpoint\", \"imagefile\": \"powerpoint.png\", \"exe\": \"/launch/msppt\"},        \r\n        {\"name\": \"Paint\", \"imagefile\": \"mspaint.png\", \"exe\": \"/launch/mspaint\"},        \r\n        {\"name\": \"Aptana\", \"imagefile\": \"aptana.png\", \"exe\": \"/launch/aptana\"},\r\n        {\"name\": \"Autocad\", \"imagefile\": \"autocad.png\", \"exe\": \"#\"},\r\n        {\"name\": \"SAP ERP\", \"imagefile\": \"erp.png\", \"exe\": \"#\"}\r\n    ]\r\n};\r\n\r\napp.get('/myapps', function(req, res) {\r\n    console.log('get myapps');\r\n    console.log(myApps);\r\n    res.send(JSON.stringify(myApps));\r\n});\r\n\r\napp.post('/login', function(req, res) {\r\n    console.log('login: '+req.body.username + ' password: ' + req.body.password);\r\n    \r\n    // do login stuff\r\n    req.session.login = req.body.username;\r\n    \r\n    res.redirect('/calder.html');\r\n});\r\n\r\napp.get('/launch/:app', function(req, res) {\r\n    console.log('launch called: App: '+req.params.app);\r\n    \r\n    // set cookies (works only if Ericom is on the same server\r\n\r\n    res.cookie('EAN_username', 'Tom');\r\n    res.cookie('EAN_password', 'Cisco123!');\r\n    res.cookie('EAN_autostart', 'true');\r\n    res.cookie('EAN_remoteapplicationmode', 'true');\r\n\r\n    var appPath;\r\n    switch (req.params.app) {\r\n    case 'aptana': \r\n        appPath = '\"C:\\\\Users\\\\Administrator\\\\AppData\\\\Local\\\\Aptana Studio 3\\\\AptanaStudio3.exe\"';\r\n        break;\r\n    case 'desktop': \r\n        res.cookie('EAN_remoteapplicationmode', 'false');\r\n        console.log('Launching: desktop');\r\n        break;\r\n    default: \r\n        appPath = req.params.app;\r\n    \r\n    }\r\n\r\n    if (appPath) {\r\n        res.cookie('EAN_alternate_shell', appPath);\r\n        console.log('Launching: ' + appPath);\r\n    } \r\n    \r\n    var url = ericomurl;\r\n    if (appPath) {\r\n        url += '?autostart=true&remoteapplicationmode=true&username=Tom&password=Cisco123!&alternate_shell=';\r\n        url += appPath;        \r\n    }    \r\n    else {\r\n        url += '?autostart=true&username=Tom&password=Cisco123!';\r\n    }\r\n    \r\n    console.log(url);\r\n    res.redirect(url);\r\n\r\n//    res.redirect(ericomurl);\r\n});\r\n\r\n\r\n// listen\r\nvar port = process.env.PORT || 80;\r\napp.listen(port, function () {\r\n    console.log('Calder Demo - listening on '+port);\r\n});\r\n\r\n"]],"start1":0,"start2":0,"length1":0,"length2":3740}]],"length":3740}
{"contributors":[],"silentsave":true,"ts":1362274717009,"patch":[[{"diffs":[[0,"t.html';\r\n\r\n"],[1,"var uriWorkspace='http://cdemo.twesselman.c9.io';\r\n//var uriWorkspace='http://10.81.108.13:3000';\r\n\r\nvar uriManager='http://caldersessionmanager.twesselman.c9.io';\r\n//var uriManager='http://10.81.108.14:3000';\r\n\r\n"],[0,"app.configur"]],"start1":253,"start2":253,"length1":24,"length2":237},{"diffs":[[0,"  \r\n"],[-1,"    app.use(express.static(__dirname + '/kendo'));\r\n    app.use(express.static(__dirname + '/website/script'));\r\n    app.use(express.static(__dirname + '/website/content'));\r\n"],[0,"    "]],"start1":694,"start2":694,"length1":183,"length2":8},{"diffs":[[0,"t('/"],[-1,"calder.html'"],[1,"gotoworkspace');\r\n});\r\n\r\napp.get('/gotoworkspace', function(req, res) {\r\n    console.log('gotoworkspace: username: '+req.body.username + ', password: ' + req.body.password);\r\n    \r\n    var uniqueID = 'userid';\r\n    var uriRedirect = uriWorkspace+'/workspace?id='+uniqueID+'&csmanager='+uriManager;\r\n    res.redirect(uriRedirect"],[0,");\r\n"]],"start1":2342,"start2":2342,"length1":20,"length2":335},{"diffs":[[0,"PORT || "],[-1,"8"],[1,"300"],[0,"0;\r\napp."]],"start1":3987,"start2":3987,"length1":17,"length2":19},{"diffs":[[0,"'Calder "],[-1,"Demo"],[1,"Session Manager"],[0," - liste"]],"start1":4050,"start2":4050,"length1":20,"length2":31}]],"length":4106,"saved":false}
{"ts":1362274719137,"patch":[[{"diffs":[[0,"er='+uri"],[1,"CS"],[0,"Manager;"]],"start1":2627,"start2":2627,"length1":16,"length2":18}]],"length":4108,"saved":false}
{"ts":1362274726367,"patch":[[{"diffs":[[0,";\r\n//var uri"],[1,"CX"],[0,"Manager='htt"]],"start1":427,"start2":427,"length1":24,"length2":26}]],"length":4110,"saved":false}
{"ts":1362274727329,"patch":[[{"diffs":[[0,"uriC"],[-1,"X"],[1,"S"],[0,"Mana"]],"start1":436,"start2":436,"length1":9,"length2":9}]],"length":4110,"saved":false}
{"ts":1362274731067,"patch":[[{"diffs":[[0,"\nvar uri"],[1,"CS"],[0,"Manager="]],"start1":365,"start2":365,"length1":16,"length2":18}]],"length":4112,"saved":false}
{"ts":1362274833974,"patch":[[{"diffs":[[0,"rkspace?"],[1,"csuser"],[0,"id='+uni"]],"start1":2600,"start2":2600,"length1":16,"length2":22}]],"length":4118,"saved":false}
{"contributors":[],"silentsave":true,"ts":1362276856731,"patch":[[{"diffs":[[0,"));\r\n \r\n"],[1,"// \r\n"],[0,"var eric"]],"start1":191,"start2":191,"length1":16,"length2":21}]],"length":4123,"saved":false}
{"ts":1362276861747,"patch":[[{"diffs":[[0,"\r\n \r\n// "],[1,"Stuff session manager knows"],[0,"\r\nvar er"]],"start1":194,"start2":194,"length1":16,"length2":43}]],"length":4150,"saved":false}
{"ts":1362276865739,"patch":[[{"diffs":[[0," knows\r\n"],[1,"\r\n"],[0,"var eric"]],"start1":223,"start2":223,"length1":16,"length2":18}]],"length":4152,"saved":false}
{"contributors":[],"silentsave":true,"ts":1362336000912,"patch":[[{"diffs":[[0,"n '+port);\r\n"],[1,"    console.log(process.argv)\r\n"],[0,"});\r\n\r\n"]],"start1":4133,"start2":4133,"length1":19,"length2":50}]],"length":4183,"saved":false}
{"ts":1362336001986,"patch":[[{"diffs":[[0,"ss.argv)"],[1,";"],[0,"\r\n});\r\n\r"]],"start1":4166,"start2":4166,"length1":16,"length2":17}]],"length":4184,"saved":false}
{"ts":1362336006213,"patch":[[{"diffs":[[0,"ess.argv);\r\n"],[1,"    \r\n"],[0,"});\r\n\r\n"]],"start1":4165,"start2":4165,"length1":19,"length2":25}]],"length":4190,"saved":false}
{"ts":1362336008179,"patch":[[{"diffs":[[0,"ess.argv);\r\n"],[1,"    if \r\n"],[0,"    \r\n});\r\n\r"]],"start1":4165,"start2":4165,"length1":24,"length2":33}]],"length":4199,"saved":false}
{"ts":1362336012795,"patch":[[{"diffs":[[0,"\n    if "],[1,"(process.argv[2])"],[0,"\r\n    \r\n"]],"start1":4176,"start2":4176,"length1":16,"length2":33}]],"length":4216,"saved":false}
{"ts":1362336015418,"patch":[[{"diffs":[[0,".argv[2]"],[1,"="],[0,")\r\n    \r"]],"start1":4192,"start2":4192,"length1":16,"length2":17}]],"length":4217,"saved":false}
{"ts":1362336016443,"patch":[[{"diffs":[[0,"argv[2]="],[1,"'c9'"],[0,")\r\n    \r"]],"start1":4193,"start2":4193,"length1":16,"length2":20}]],"length":4221,"saved":false}
{"ts":1362336020615,"patch":[[{"diffs":[[0,"='c9')\r\n"],[1,"    {\r\n    }\r\n    }\r\n"],[0,"    \r\n})"]],"start1":4200,"start2":4200,"length1":16,"length2":37}]],"length":4242,"saved":false}
{"ts":1362336025862,"patch":[[{"diffs":[[0,"\n    {\r\n    "],[-1,"}"],[1,"el"],[0,"\r\n    }\r\n   "]],"start1":4207,"start2":4207,"length1":25,"length2":26}]],"length":4243,"saved":false}
{"ts":1362336026347,"patch":[[{"diffs":[[0,"\n    {\r\n"],[-1,"    el"],[0,"\r\n    }\r"]],"start1":4207,"start2":4207,"length1":22,"length2":16}]],"length":4237,"saved":false}
{"ts":1362336027845,"patch":[[{"diffs":[[0,"\n    {\r\n"],[-1,"\r\n"],[0,"    }\r\n "]],"start1":4207,"start2":4207,"length1":18,"length2":16}]],"length":4235,"saved":false}
{"ts":1362336030465,"patch":[[{"diffs":[[0,"  {\r\n    }\r\n"],[1,"    else\r\n"],[0,"    \r\n});\r\n\r"]],"start1":4210,"start2":4210,"length1":24,"length2":34}]],"length":4245,"saved":false}
{"ts":1362336032603,"patch":[[{"diffs":[[0,"else\r\n    \r\n"],[1,"    \r\n"],[0,"});\r\n\r\n"]],"start1":4226,"start2":4226,"length1":19,"length2":25}]],"length":4251,"saved":false}
{"ts":1362336033122,"patch":[[{"diffs":[[0,"  else\r\n    "],[1,"{"],[0,"\r\n    \r\n});\r"]],"start1":4224,"start2":4224,"length1":24,"length2":25}]],"length":4252,"saved":false}
{"ts":1362336033678,"patch":[[{"diffs":[[0,"lse\r\n    {\r\n"],[1,"        \r\n    }\r\n"],[0,"    \r\n});\r\n\r"]],"start1":4227,"start2":4227,"length1":24,"length2":41}]],"length":4269,"saved":false}
{"ts":1362336034665,"patch":[[{"diffs":[[0,"\n    {\r\n    "],[-1,"    "],[0,"\r\n    }\r\n   "]],"start1":4231,"start2":4231,"length1":28,"length2":24}]],"length":4265,"saved":false}
{"ts":1362336044970,"patch":[[{"diffs":[[0,"an.c9.io';\r\n"],[-1,"//"],[0,"var uriWorks"]],"start1":338,"start2":338,"length1":26,"length2":24},{"diffs":[[0,"9.io';\r\n"],[-1,"//"],[0,"var uriC"]],"start1":456,"start2":456,"length1":18,"length2":16}]],"length":4261,"saved":false}
{"ts":1362336065065,"patch":[[{"diffs":[[0,"9')\r\n    {\r\n"],[1,"        var uriWorkspace='http://cdemo.twesselman.c9.io';\r\n\r\n"],[0,"    }\r\n    e"]],"start1":4199,"start2":4199,"length1":24,"length2":85}]],"length":4322,"saved":false}
{"ts":1362336068141,"patch":[[{"diffs":[[0,"        "],[-1,"var "],[0,"uriWorks"]],"start1":4211,"start2":4211,"length1":20,"length2":16}]],"length":4318,"saved":false}
{"ts":1362336098668,"patch":[[{"diffs":[[0,"pace"],[-1,"='http://cdemo.twesselman.c9.io';\r\nvar uriWorkspace='http://10.81.108.13:3000';\r\n\r\nvar"],[1,","],[0," uri"]],"start1":311,"start2":311,"length1":94,"length2":9}]],"length":4233,"saved":false}
{"ts":1362336101615,"patch":[[{"diffs":[[0,"ager"],[-1,"='http://caldersessionmanager.twesselman.c9.io';\r\nvar uriCSManager='http://10.81.108.14:3000'"],[0,";\r\n\r"]],"start1":325,"start2":325,"length1":101,"length2":8}]],"length":4140,"saved":false}
{"ts":1362336107486,"patch":[[{"diffs":[[0,"9.io';\r\n"],[1,"var uriWorkspace='http://cdemo.twesselman.c9.io';\r\nvar uriWorkspace='http://10.81.108.13:3000';\r\n\r\nvar uriCSManager='http://caldersessionmanager.twesselman.c9.io';\r\nvar uriCSManager='http://10.81.108.14:3000';"],[0,"\r\n    }\r"]],"start1":4080,"start2":4080,"length1":16,"length2":225}]],"length":4349,"saved":false}
{"ts":1362336111327,"patch":[[{"diffs":[[0,"\n    {\r\n    "],[1,"var uriWorkspace='http://cdemo.twesselman.c9.io';\r\nvar uriWorkspace='http://10.81.108.13:3000';\r\n\r\nvar uriCSManager='http://caldersessionmanager.twesselman.c9.io';\r\nvar uriCSManager='http://10.81.108.14:3000';"],[0,"\r\n    }\r\n   "]],"start1":4315,"start2":4315,"length1":24,"length2":233}]],"length":4558,"saved":false}
{"ts":1362336118143,"patch":[[{"diffs":[[0,"';\r\n"],[-1,"var uriWorkspace='http://cdemo.twesselman.c9.io';\r\nvar uriWorkspace='http://10.81.108.13:3000';\r\n\r\nvar "],[0,"uriC"]],"start1":4084,"start2":4084,"length1":111,"length2":8}]],"length":4455,"saved":false}
{"ts":1362336119325,"patch":[[{"diffs":[[0,"9.io';\r\n"],[1,"    "],[0,"uriCSMan"]],"start1":4080,"start2":4080,"length1":16,"length2":20}]],"length":4459,"saved":false}
{"ts":1362336120664,"patch":[[{"diffs":[[0,"an.c9.io';\r\n"],[1,"    "],[0,"    uriCSMan"]],"start1":4076,"start2":4076,"length1":24,"length2":28}]],"length":4463,"saved":false}
{"ts":1362336124029,"patch":[[{"diffs":[[0,"';\r\n"],[-1,"var uriCSManager='http://10.81.108.14:3000';\r\n"],[0,"    "]],"start1":4154,"start2":4154,"length1":54,"length2":8}]],"length":4417,"saved":false}
{"ts":1362336127382,"patch":[[{"diffs":[[0," {\r\n"],[-1,"    var uriWorkspace='http://cdemo.twesselman.c9.io';\r\n"],[0,"var "]],"start1":4178,"start2":4178,"length1":63,"length2":8}]],"length":4362,"saved":false}
{"ts":1362336129857,"patch":[[{"diffs":[[0,"\n    {\r\n"],[-1,"var"],[1,"       "],[0," uriWork"]],"start1":4174,"start2":4174,"length1":19,"length2":23}]],"length":4366,"saved":false}
{"ts":1362336132161,"patch":[[{"diffs":[[0,"0';\r"],[-1,"\n\r\nvar uriCSManager='http://caldersessionmanager.twesselman.c9.io';\r"],[0,"\nvar"]],"start1":4227,"start2":4227,"length1":76,"length2":8}]],"length":4298,"saved":false}
{"ts":1362336133670,"patch":[[{"diffs":[[0,"3000';\r\n"],[-1,"var"],[1,"   "],[0," uriCSMa"]],"start1":4224,"start2":4224,"length1":19,"length2":19}]],"length":4298,"saved":false}
{"ts":1362336136069,"patch":[[{"diffs":[[0,".13:3000';\r\n"],[1,"    "],[0,"    uriCSMan"]],"start1":4220,"start2":4220,"length1":24,"length2":28}]],"length":4302,"saved":false}
{"ts":1362336137026,"patch":[[{"diffs":[[0,"\n    }\r\n"],[-1,"    \r\n"],[0,"});\r\n\r\n"]],"start1":4281,"start2":4281,"length1":21,"length2":15}]],"length":4296,"saved":false}
{"ts":1362336142810,"patch":[[{"diffs":[[0,"]='c9')\r\n    {\r\n"],[1,"        console.log('')\r\n"],[0,"        uriWorks"]],"start1":4017,"start2":4017,"length1":32,"length2":57}]],"length":4321,"saved":false}
{"ts":1362336144944,"patch":[[{"diffs":[[0,"le.log('"],[1,"running in "],[0,"')\r\n    "]],"start1":4046,"start2":4046,"length1":16,"length2":27}]],"length":4332,"saved":false}
{"ts":1362336146634,"patch":[[{"diffs":[[0,"ning in "],[1,"c9"],[0,"')\r\n    "]],"start1":4057,"start2":4057,"length1":16,"length2":18}]],"length":4334,"saved":false}
{"ts":1362336149206,"patch":[[{"diffs":[[0,"ning in c9')"],[1,";"],[0,"\r\n        ur"]],"start1":4057,"start2":4057,"length1":24,"length2":25},{"diffs":[[0,"   else\r\n    {\r\n"],[1,"        \r\n"],[0,"        uriWorks"]],"start1":4205,"start2":4205,"length1":32,"length2":42}]],"length":4345,"saved":false}
{"ts":1362336149665,"patch":[[{"diffs":[[0,"\n    {\r\n        "],[1,"con"],[0,"\r\n        uriWor"]],"start1":4213,"start2":4213,"length1":32,"length2":35}]],"length":4348,"saved":false}
{"ts":1362336152177,"patch":[[{"diffs":[[0,"     con"],[1,"sole.log('un')"],[0,"\r\n      "]],"start1":4224,"start2":4224,"length1":16,"length2":30}]],"length":4362,"saved":false}
{"ts":1362336153026,"patch":[[{"diffs":[[0,"e.log('u"],[-1,"n"],[0,"')\r\n    "]],"start1":4235,"start2":4235,"length1":17,"length2":16}]],"length":4361,"saved":false}
{"ts":1362336156187,"patch":[[{"diffs":[[0,"le.log('"],[-1,"u"],[1,"running in openstac"],[0,"')\r\n    "]],"start1":4234,"start2":4234,"length1":17,"length2":35}]],"length":4379,"saved":false}
{"ts":1362336157306,"patch":[[{"diffs":[[0,"openstac"],[1,"k"],[0,"')\r\n    "]],"start1":4253,"start2":4253,"length1":16,"length2":17}]],"length":4380,"saved":false}
{"ts":1362336160057,"patch":[[{"diffs":[[0,"nstack')"],[1,";"],[0,"\r\n      "]],"start1":4256,"start2":4256,"length1":16,"length2":17}]],"length":4381,"saved":false}
{"ts":1362336205057,"patch":[[{"diffs":[[0,"enstack');\r\n"],[1,"//"],[0,"        uriW"]],"start1":4255,"start2":4255,"length1":24,"length2":26}]],"length":4383,"saved":false}
{"ts":1362336210750,"patch":[[{"diffs":[[0,"ack');\r\n"],[1,"        uriWorkspace='http://cdemo.twesselman.c9.io';\r\n"],[0,"//      "]],"start1":4259,"start2":4259,"length1":16,"length2":71}]],"length":4438,"saved":false}
{"contributors":[],"silentsave":true,"ts":1362336442201,"patch":[[{"diffs":[[0,"argv[2]="],[1,"="],[0,"'c9')\r\n "]],"start1":4011,"start2":4011,"length1":16,"length2":17}]],"length":4439,"saved":false}
